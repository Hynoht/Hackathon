<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" href="image/icon.png">
	<link rel="stylesheet" href="css/head.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<title>Hacka-malagasy</title>
</head>
<body>
	<div class="contents">
		<div class="home">
			<div style="display: block;">
				<div class="href"><i class="fa-solid fa-house"></i></i></div>
				<div class="xx" style="display: none;"><i class="fa-solid fa-x"></i></i></div>
			</div>
			<div class="list">
				<ul>
					<a href="index.html"><li>Tongasoa</li></a>
					<a href="http://"><li>Tantara</li></a>
					<a href="http://"><li>Toerana manatantara</li></a>
					<a href="http://"><li>Tonon-kira</li></a>
				</ul>
			</div>
		</div>
		<div class="content-3d">
			<span style="--i:1;" class="andrianampoinimerina">
				<img src="image/andrianampoinimerina.jpeg" alt="andrianampoinimerina" srcset="">
			</span>
			<span style="--i:2;" class="radamaI">
				<img src="image/radamaI.jpeg" alt="radamaI" srcset="">
			</span>
			<span style="--i:4;" class="ranavalonaI">
				<img src="image/ranavalonaI.jpeg" alt="ranavalonaI" srcset="">
			</span>
			<span style="--i:3;" class="radamaII">
				<img src="image/radamaII.jpeg" alt="radamaII" srcset="">
			</span>
			<span style="--i:7;" class="rasoherina">
				<img src="image/rasoherina.jpeg" alt="rasoherina" srcset="">
			</span>
			<span style="--i:5;" class="ranavalonaII">
				<img src="image/ranavalonaII.jpeg" alt="ranavalonaII" srcset="">
			</span>
			<span style="--i:6;" class="ranavalonaIII">
				<img src="image/ranavalonaIII.jpeg" alt="ranavalonaIII" srcset="">
			</span>
		</div>
	</div>
	<div class="hidding" style="display: none;">
		<div class="exit">
			<i class="fa-solid fa-x"></i>
		</div>
	</div>
	<script>
		let span = document.querySelector(".content-3d");
		let spans = document.querySelectorAll("span");
		let card = document.querySelector(".elmnt");
		let hidden = document.querySelector(".hidding");
		let exit = document.querySelector(".exit");
		let menu = document.querySelector(".href");
		let list = document.querySelector(".list");
		let xx = document.querySelector(".xx");

		let content = function (nom, birth, regne, descrit) {
			hidden.innerHTML = 
			`
				<div class="elmnt">
					<div class="exit">
						<i class="fa-solid fa-x"></i>
					</div>
					<div class="img-class 1">
						<img src="image/${nom}.jpeg" alt="alasora" srcset="">
					</div>
					<span class="txt">
						<strong>` + nom + `</strong> (` + birth +`)
					</span>
					<p class="descrit">
						` + descrit + `
					</p>
				</div>
				`;
		};

		
		spans.forEach ((element) =>
		element.onclick = function () {
			let name = element.className;
			hidden.style.display = "flex";
			fetch('css/list.json')
			.then(response => response.json())
			.then(data => {
				content(name, data[name].birth, data[name].regne, data[name].descrit);
				let exit = document.querySelector(".exit");
				let hiddens = document.querySelector(".hidding");
				let cards = document.querySelector(".elmnt");
			
				exit.onclick =  function () {
					cards.style.visibility = "hidden";
					hiddens.style.display = "none";
				}
			})
			.catch(error => {
				console.error("Erreur lors du chargement du JSON :", error);
				});
			}
			);
			
			let counter = 0;
			function count () {
				span.style.transform = "perspective(1000px) rotateY("+ counter +"deg)";
				if (counter == 360)
				counter = 0;
			counter++;
		}

		window.onload = function () {
			setInterval(count, 90);
		}

		menu.onclick = function () {
			list.classList.add("afficher");
			xx.style.display = "block";
			menu.style.display = "none";
			xx.onclick = function () {
				xx.style.display = "none";
				menu.style.display = "block";
				list.classList.remove("afficher");
			}
		}
		
	</script>
</body>
</html>